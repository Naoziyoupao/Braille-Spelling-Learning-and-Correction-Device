# 盲文拼写学习与纠错设备

一个基于语音识别和计算机视觉的智能盲文学习系统，旨在帮助视觉障碍人士学习和练习盲文拼写。

## 🎯 项目简介

本系统是一个综合性的盲文学习辅助工具，结合了语音识别、盲文转换、计算机视觉识别和语音合成等多项技术。用户可以通过语音交互的方式进行盲文词典查询和拼写练习，系统能够自动识别用户的盲文书写并提供实时反馈。

## ✨ 主要功能

### 模式一：词典查询模式
- 🎤 **语音查词**：用户说出要查询的词语
- 📖 **词典查询**：自动查询词语释义
- 🔤 **盲文转换**：将汉字转换为对应的盲文点位
- 🔊 **语音播报**：播报盲文点位组合（如"点1点2"）

### 模式二：书写纠错模式
- 🎯 **目标设定**：用户语音设定要练习的词语
- 📷 **视觉识别**：自动拍照识别用户书写的盲文
- ✅ **智能比对**：对比目标盲文与实际书写
- 🔄 **实时反馈**：提供正确/错误提示及改正建议

## 🛠️ 技术架构

- **语音识别**：基于 WebRTC VAD 和 OpenAI Whisper
- **盲文转换**：自定义盲文编码转换算法
- **计算机视觉**：使用 YOLO 模型进行盲文点位检测
- **语音合成**：pygame 音频播放系统
- **状态管理**：基于状态机的交互流程控制

## 📦 环境要求

- Python 3.7+
- 支持音频输入/输出设备
- 摄像头（用于盲文识别）

## 🚀 安装说明

1. **克隆项目**
```bash
git clone https://github.com/Naoziyoupao/Braille-Spelling-Learning-and-Correction-Device.git
cd Braille-Spelling-Learning-and-Correction-Device
```

2. **安装依赖**
```bash
pip install -r requirements.txt
```

3. **准备音频文件**
确保 `大创音频/` 文件夹中包含所有必要的提示音频文件。

## 📋 依赖包说明

- `pypinyin` - 中文拼音转换
- `pygame` - 音频播放
- `webrtcvad-wheels` - 语音活动检测
- `pyaudio` - 音频录制
- `torch` - 深度学习框架
- `openai-whisper` - 语音识别
- `numpy` - 数值计算
- `ultralytics` - YOLO 模型
- `opencv-python` - 计算机视觉
- `jieba` - 中文分词
- `pydub` - 音频处理

## 🎮 使用方法

### 启动系统
```bash
python main_state_machine.py
```

### 基本操作流程

1. **系统启动**
   - 听到欢迎语音后，说出"模式一"或"模式二"选择功能

2. **模式一使用**
   - 说出要查询的词语（如"你好"）
   - 系统将播报该词语的盲文点位组合

3. **模式二使用**
   - 说出要练习的词语（如"你好"）
   - 将盲文书写内容放在摄像头前方
   - 系统自动识别并给出正确性反馈

4. **返回主菜单**
   - 在任何模式下说出"返回初始状态"

## 📁 项目结构

```
├── main_state_machine.py      # 主程序，状态机控制
├── vad_thread.py             # 语音活动检测线程
├── brallie_covert.py         # 盲文转换模块
├── dictionary_lookup.py      # 词典查询模块
├── audio_synthesis.py        # 音频合成模块
├── vision/                   # 计算机视觉模块
│   ├── braille_inference_picture.py
│   └── test_main.py
├── 大创音频/                  # 系统提示音频文件
└── requirements.txt          # 项目依赖
```

## 🔧 核心模块说明

### StateMachine (main_state_machine.py)
- 系统主控制器，管理三个主要状态
- 处理语音输入和状态转换
- 协调各个功能模块

### RealTimeVADThread (vad_thread.py)
- 实时语音活动检测
- 语音录制和识别
- 多线程处理确保实时性

### BrailleConverter (brallie_covert.py)
- 汉字到盲文的转换
- 盲文点位编码处理
- 支持词语级别的盲文生成

### Vision Module (vision/)
- 基于深度学习的盲文识别
- 图像预处理和点位检测
- 返回结构化的盲文数据

## 🎵 音频文件说明

系统需要以下提示音频文件（位于 `大创音频/` 目录）：
- 系统启动和模式选择提示
- 功能状态切换提示
- 正确/错误反馈提示
- 盲文点位语音（点1-点6）

## 🤝 贡献

欢迎提交 Issue 和 Pull Request 来改进这个项目。

## 📄 许可证

本项目采用 MIT 许可证。

## 👥 开发团队

感谢所有为这个项目做出贡献的开发者。

---

> 💡 **提示**：本系统专为视觉障碍人士设计，所有交互均通过语音完成，请确保在安静环境中使用以获得最佳体验。
